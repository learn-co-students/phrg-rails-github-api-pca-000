exit
session[:token]
response
exit
response
exit
response
exit
@user_name
exit
body
exit
body[0]["owner"]["login"]
body[0]["owner]["login"]
body[0]
body["owner"]
body[:owner]
body
body = JSON.parse(response.body)
JSON.parse(response)
response
exit
session[:token]
JSON.parse(response.body)
JSON.parse(resp.body)
response
exit
response
exit
params[:code]
params
exit
session
exit
session
params
resp
exit
session[:body]
session[:token]
session
exit
params
resp
resp = Faraday.post("https://github.com/login/oauth/access_token")
resp = Faraday.post("https://github.com/login/oauth/access_token") do |req|
    9:       req.params['code'] = params[:code]
    8:       req.params['redirect_uri'] = "http://localhost:3000/auth"
    7:       req.params['client_secret'] = 'a941caf4413752b96cc7b1d0dd867d953bd33b55'
    6:       req.params['client_id'] = 'c12ab5a5aac576dbe275'
resp = Faraday.post("https://github.com/login/oauth/access_token") do |req|
exit
resp
exit
redirect_to github_url unless logged_in?
github_url = `https://github.com/login/oauth/authorize?client_id=c12ab5a5aac576dbe275&redirect_uri=http://localhost:3000/auth&scope=repo`
logged_in?
github_url
redirect_uri
exit
session[:token]
params
exit
req
req.params['code'] = params[:code]
params
req
exit
params
req
exit
req
session
params
req
resp
exit
session[:token]
session
exit
next
params
exit
next
resp
exit
!!session[:token]
session[:token]
session
params[:code]
params["code"]
params
exit
params
exit
params
exit
params[:code]
params
resp.body
resp
exit
params["state"]
session["token"]
session
params
